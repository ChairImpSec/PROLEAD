<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>PROLEAD: ContingencyTable&lt; BucketContainer &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">PROLEAD<span id="projectnumber">&#160;3.0.3</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="class_contingency_table-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">ContingencyTable&lt; BucketContainer &gt; Class Template Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aa7ad30b076914c10d255bed3580f4555"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_contingency_table.html#aa7ad30b076914c10d255bed3580f4555">ContingencyTable</a> ()=default</td></tr>
<tr class="memdesc:aa7ad30b076914c10d255bed3580f4555"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default constructor for <a class="el" href="class_contingency_table.html">ContingencyTable</a>.  <br /></td></tr>
<tr class="separator:aa7ad30b076914c10d255bed3580f4555"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67026bd924ce025b6803c4c2e8b50552"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_contingency_table.html#a67026bd924ce025b6803c4c2e8b50552">Initialize</a> (uint64_t number_of_probes, uint64_t number_of_groups, bool is_in_compact_mode)</td></tr>
<tr class="memdesc:a67026bd924ce025b6803c4c2e8b50552"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the <a class="el" href="class_contingency_table.html">ContingencyTable</a> for a specific type of bucket container.  <br /></td></tr>
<tr class="separator:a67026bd924ce025b6803c4c2e8b50552"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac79140f299e220f68d70d5d55ea7bc91"><td class="memItemLeft" align="right" valign="top"><a id="ac79140f299e220f68d70d5d55ea7bc91" name="ac79140f299e220f68d70d5d55ea7bc91"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>Deconstruct</b> ()</td></tr>
<tr class="separator:ac79140f299e220f68d70d5d55ea7bc91"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a02cb9a7c8f7ffcffcc6f4a9413cb26a7"><td class="memItemLeft" align="right" valign="top"><a id="a02cb9a7c8f7ffcffcc6f4a9413cb26a7" name="a02cb9a7c8f7ffcffcc6f4a9413cb26a7"></a>
uint64_t&#160;</td><td class="memItemRight" valign="bottom"><b>GetSizeOfKeyInBytes</b> () const</td></tr>
<tr class="separator:a02cb9a7c8f7ffcffcc6f4a9413cb26a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e831cd3270f2531d14f06b3e2073a75"><td class="memItemLeft" align="right" valign="top"><a id="a1e831cd3270f2531d14f06b3e2073a75" name="a1e831cd3270f2531d14f06b3e2073a75"></a>
uint64_t&#160;</td><td class="memItemRight" valign="bottom"><b>GetNumberOfEntries</b> () const</td></tr>
<tr class="separator:a1e831cd3270f2531d14f06b3e2073a75"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b25015deb417ac8b24011881241604a"><td class="memItemLeft" align="right" valign="top"><a id="a6b25015deb417ac8b24011881241604a" name="a6b25015deb417ac8b24011881241604a"></a>
double_t&#160;</td><td class="memItemRight" valign="bottom"><b>GetLog10pValue</b> () const</td></tr>
<tr class="separator:a6b25015deb417ac8b24011881241604a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af2f55f7360eb1e84d4410ec1c345fdb1"><td class="memItemLeft" align="right" valign="top"><a id="af2f55f7360eb1e84d4410ec1c345fdb1" name="af2f55f7360eb1e84d4410ec1c345fdb1"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>IncrementSpecificCounter</b> (uint64_t key_index, uint64_t group_index)</td></tr>
<tr class="separator:af2f55f7360eb1e84d4410ec1c345fdb1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e4c5c42165ec52e10e71ead5ec1cb4e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_contingency_table.html#a3e4c5c42165ec52e10e71ead5ec1cb4e">UpdateBucket</a> (<a class="el" href="class_table_entry.html">TableEntry</a> &amp;observation, uint64_t number_of_groups)</td></tr>
<tr class="memdesc:a3e4c5c42165ec52e10e71ead5ec1cb4e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Updates the bucket with a single observation.  <br /></td></tr>
<tr class="separator:a3e4c5c42165ec52e10e71ead5ec1cb4e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a83ea8bb0b42522d75d583c9581f571d4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_contingency_table.html#a83ea8bb0b42522d75d583c9581f571d4">UpdateBucket</a> (<a class="el" href="_util_8hpp.html#a8827d1651a0e84c7e646967537fd2c1d">TableBucketVector</a> &amp;observations, uint64_t number_of_groups)</td></tr>
<tr class="memdesc:a83ea8bb0b42522d75d583c9581f571d4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Updates the bucket with multiple observations.  <br /></td></tr>
<tr class="separator:a83ea8bb0b42522d75d583c9581f571d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8b50c41d133b89cf78d64354af63c3f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_contingency_table.html#ab8b50c41d133b89cf78d64354af63c3f">SetLog10pValue</a> (uint64_t number_of_groups)</td></tr>
<tr class="memdesc:ab8b50c41d133b89cf78d64354af63c3f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculates and sets the log base 10 p-value for PROLEAD_SW.  <br /></td></tr>
<tr class="separator:ab8b50c41d133b89cf78d64354af63c3f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c8448f4a5da8b719ff2baec770e2ede"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_contingency_table.html#a4c8448f4a5da8b719ff2baec770e2ede">SetLog10pValue</a> (uint64_t number_of_groups, uint64_t number_of_simulations, std::vector&lt; double_t &gt; &amp;group_simulation_ratio)</td></tr>
<tr class="memdesc:a4c8448f4a5da8b719ff2baec770e2ede"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculates and sets the log base 10 p-value for PROLEAD.  <br /></td></tr>
<tr class="separator:a4c8448f4a5da8b719ff2baec770e2ede"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="aa7ad30b076914c10d255bed3580f4555" name="aa7ad30b076914c10d255bed3580f4555"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa7ad30b076914c10d255bed3580f4555">&#9670;&#160;</a></span>ContingencyTable()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename BucketContainer &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_contingency_table.html">ContingencyTable</a>&lt; BucketContainer &gt;<a class="el" href="class_contingency_table.html">::ContingencyTable</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">default</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Default constructor for <a class="el" href="class_contingency_table.html">ContingencyTable</a>. </p>
<p>Initializes a <a class="el" href="class_contingency_table.html">ContingencyTable</a> instance with all possible observations. In compact mode, this constructor ensures that every possible observation is accessible by index, reflecting the small number of possible observations. This initialization is crucial for efficient access and manipulation of observations within the table and allows a great performance improvement compared to the normal mode. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a67026bd924ce025b6803c4c2e8b50552" name="a67026bd924ce025b6803c4c2e8b50552"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a67026bd924ce025b6803c4c2e8b50552">&#9670;&#160;</a></span>Initialize()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename BucketContainer &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_contingency_table.html">ContingencyTable</a>&lt; BucketContainer &gt;::Initialize </td>
          <td>(</td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>number_of_probes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>number_of_groups</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>is_in_compact_mode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes the <a class="el" href="class_contingency_table.html">ContingencyTable</a> for a specific type of bucket container. </p>
<p>Sets up the <a class="el" href="class_contingency_table.html">ContingencyTable</a> instance, adjusting the size of keys based on the number of probes and whether the table is in compact mode.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">number_of_probes</td><td>The number of probes used in observations. </td></tr>
    <tr><td class="paramname">number_of_groups</td><td>The number of groups in the contingency table. </td></tr>
    <tr><td class="paramname">is_in_compact_mode</td><td>Flag indicating if the table operates in compact mode. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ab8b50c41d133b89cf78d64354af63c3f" name="ab8b50c41d133b89cf78d64354af63c3f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab8b50c41d133b89cf78d64354af63c3f">&#9670;&#160;</a></span>SetLog10pValue() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename BucketContainer &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_contingency_table.html">ContingencyTable</a>&lt; BucketContainer &gt;::SetLog10pValue </td>
          <td>(</td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>number_of_groups</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculates and sets the log base 10 p-value for PROLEAD_SW. </p>
<p>This function calculates the log base 10 p-value for the contingency table based on the observed data. It first computes the number of simulations per group and their ratios, then calculates the G-test statistic and uses it to compute the log base 10 p-value.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">number_of_groups</td><td>The number of groups in the contingency table. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a4c8448f4a5da8b719ff2baec770e2ede" name="a4c8448f4a5da8b719ff2baec770e2ede"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4c8448f4a5da8b719ff2baec770e2ede">&#9670;&#160;</a></span>SetLog10pValue() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename BucketContainer &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_contingency_table.html">ContingencyTable</a>&lt; BucketContainer &gt;::SetLog10pValue </td>
          <td>(</td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>number_of_groups</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>number_of_simulations</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; double_t &gt; &amp;&#160;</td>
          <td class="paramname"><em>group_simulation_ratio</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculates and sets the log base 10 p-value for PROLEAD. </p>
<p>This function calculates the log base 10 p-value for the contingency table based on pre-determined numbers of simulations and group simulation ratios. It calculates the G-test statistic and uses it to compute the log base 10 p-value.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">number_of_groups</td><td>The number of groups in the contingency table. </td></tr>
    <tr><td class="paramname">number_of_simulations</td><td>The total number of simulations. </td></tr>
    <tr><td class="paramname">group_simulation_ratio</td><td>A vector containing the ratio of simulations for each group. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a83ea8bb0b42522d75d583c9581f571d4" name="a83ea8bb0b42522d75d583c9581f571d4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a83ea8bb0b42522d75d583c9581f571d4">&#9670;&#160;</a></span>UpdateBucket() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename BucketContainer &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_contingency_table.html">ContingencyTable</a>&lt; BucketContainer &gt;::UpdateBucket </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_util_8hpp.html#a8827d1651a0e84c7e646967537fd2c1d">TableBucketVector</a> &amp;&#160;</td>
          <td class="paramname"><em>observations</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>number_of_groups</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Updates the bucket with multiple observations. </p>
<p>This function updates the bucket with data from a vector of observations. It sorts and merges duplicate entries in the observations vector, then updates the bucket by merging the processed observations into it. The function ensures that the bucket remains sorted.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">observations</td><td>The vector of <a class="el" href="class_table_entry.html" title="Represents an entry in a contingency table, containing a key and associated data.">TableEntry</a> objects containing the keys and data to be updated or inserted into the bucket. </td></tr>
    <tr><td class="paramname">number_of_groups</td><td>The number of groups associated with each key, used to iterate over the data arrays.</td></tr>
  </table>
  </dd>
</dl>
<p>The function first sorts and merges duplicates in the observations vector using <code>SortAndMergeDuplicates</code>. It then updates the bucket with the processed observations using <code>UpdateBucketWithBucket</code>. After reserving enough space for new entries, it moves the remaining observations into the bucket and ensures that the bucket remains sorted by calling <code>SortBucket</code>. </p>

</div>
</div>
<a id="a3e4c5c42165ec52e10e71ead5ec1cb4e" name="a3e4c5c42165ec52e10e71ead5ec1cb4e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3e4c5c42165ec52e10e71ead5ec1cb4e">&#9670;&#160;</a></span>UpdateBucket() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename BucketContainer &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_contingency_table.html">ContingencyTable</a>&lt; BucketContainer &gt;::UpdateBucket </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_table_entry.html">TableEntry</a> &amp;&#160;</td>
          <td class="paramname"><em>observation</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>number_of_groups</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Updates the bucket with a single observation. </p>
<p>This function updates the existing entries in the bucket with data from the provided observation. If the observation's key matches an existing key in the bucket, the corresponding data is added to the existing entry. If no match is found, the observation is inserted into the bucket in a sorted order.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">observation</td><td>The <a class="el" href="class_table_entry.html" title="Represents an entry in a contingency table, containing a key and associated data.">TableEntry</a> containing the key and data to be updated or inserted into the bucket. </td></tr>
    <tr><td class="paramname">number_of_groups</td><td>The number of groups associated with each key, used to iterate over the data arrays.</td></tr>
  </table>
  </dd>
</dl>
<p>The function uses a binary search to find the appropriate position for the observation in the sorted bucket. If a match is found, the data arrays of the existing entry and the observation are combined by adding corresponding elements. If no match is found, the observation is inserted into the correct position to maintain the bucket's sorted order. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>PROLEAD_public/inc/Util/<a class="el" href="_util_8hpp_source.html">Util.hpp</a></li>
<li>PROLEAD_public/src/Util/Util.cpp</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.6
</small></address>
</body>
</html>
